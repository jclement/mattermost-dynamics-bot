<div ng-show="loaded">
<table class="table table-condensed table-striped">
  <tr>
    <th>ID:</th>
    <td>{{id}}</td>
  </tr>
  <tr>
    <th>Incident Number:</th>
    <td>{{incidentNumber}}</td>
  </tr>
  <tr>
    <th>Title:</th>
    <td>{{title}}</td>
  </tr>
  <tr>
    <th>Description:</th>
    <td>{{description}}</td>
  </tr>
  <tr>
    <th>Company:</th>
    <td>{{company}}</td>
  </tr>
  <tr>
    <th>Owner:</th>
    <td>{{owner}}</td>
  </tr>
  <tr>
    <th>Attachments Folder:</th>
    <td>{{caseAttachments}}</td>
  </tr>
</table>

<div class="well well-sm" ng-repeat="note in notes | orderBy: '-Modified'">
  <div><b>{{note.Title}}</b> by <i>{{note.Owner}}</i> on {{note.Modified | date : "medium"}}</div>
  <div>{{note.Body}}</div>
  <div ng-show="note.Filename">Download attachment (new tab): {{note.Filename}} ({{note.Filesize}} Bytes) <a class="btn btn-default" href={{"../attachment/getfile/"+note.Id+"/"+note.Filename}} target="_blank"><span class="glyphicon glyphicon-download-alt"></span></a></div>
  <div ng-show="note.Filename">Download attachment (iframe): {{note.Filename}} ({{note.Filesize}} Bytes) <button class="btn btn-default" ng-click="downloadAttachment(note.Id, note.Filename)"><span class="glyphicon glyphicon-download-alt"></span></button></div>
</div>

<a class="btn btn-danger" href="{{url}}">Open in Dynamics CRM</a>
</div>

<p class="alert alert-info" ng-hide="loaded">Loading!</p>

<iframe id="download_iframe" style="display:none;"></iframe>